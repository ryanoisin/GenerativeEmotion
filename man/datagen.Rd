\name{datagen}
\alias{datagen}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{
Function to generate data from the generative model.
}
\description{
Takes as input a list of model matrices, as created by `model_matrices()` and generates time series from the model. The initial value is a draw from the stationary distribution
}
\usage{
datagen(mm, n, sout = FALSE)
}

\arguments{
  \item{mm}{list of model matrices created by model_matrices()
}
  \item{n}{number of time points to simulate
}
  \item{sout}{logical; output only emotions (FALSE) or emotions and situations (TRUE)
}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{matrix containing time series generated by the model
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
Oisin Ryan <o.ryan@uu.nl>; Jonas Haslbeck <jonashaslbeck@gmail.com>; Fabian Dablander <dablander.fabian@gmail.com> 
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
# basic model specification 
s <- 5
p <- 6

# define means in each state
 a <- 1
 b <- .5

#  mean matrix
 means <- rbind(rep(0,p),
                c(a, b, a,  0  ,  0  ,  0  ),
                c(a, b, b,  0  ,  0  ,  0  ),
                c( 0  ,  0  ,  0  , a, b, a),
                c( 0  ,  0  ,  0  , a, b, b))

# define transition matrix probabilities
stay_prob <- .6
switch_prob <- (1-stay_prob)/(s-1)

# define residual variance of all variables in all states
theta <- sqrt(.25)


# get model matrices
mm <- model_matrices(s = s,
                     p = p,
                     stay_prob = stay_prob,
                     switch_prob = switch_prob,
                     means = means,
                     theta = theta #, tmat = tmat
)

simdata <- datagen(mm = mm, n = 100, sout = FALSE)
plot(simdata[,1], type = "b", xlab = "Time", ylab = "Emotion")
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory (show via RShowDoc("KEYWORDS")):
% \keyword{ ~kwd1 }
% \keyword{ ~kwd2 }
% Use only one keyword per line.
% For non-standard keywords, use \concept instead of \keyword:
% \concept{ ~cpt1 }
% \concept{ ~cpt2 }
% Use only one concept per line.
